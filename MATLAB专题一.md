# MATLAB专题一

## 		1.1MATLAB系统环境

1. **MATLAB操作界面组成**：
	1. MATLAB主窗口
	2. 命令行窗口：
					续行符： ...
	3. 当前文件夹窗口：
					1.在当前文件夹工具栏或当前文件夹窗口选择某文件夹为当前文件夹
					2.使用cd命令(使用方法:cd 文件夹路径)
	4. 工作区窗口
2. **MATLAB的搜索路径**：
	1. 变量→内部函数→程序文件→当前文件夹下的程序文件→文件搜索路径文件夹中的程序文件
	2. 可以用path命令设置文件搜索路径。例如：
				>> path(path,'d:\work')

## 1.2MATLAB数值数据

1. **数值数据类型的分类**：整型，浮点型，复数型
	可以用class()函数来判断数据类型(使用方法：class(数据))

	- 整型

		1. 带符号整数 例如带符号8为整型数据的定义为int8
		2. 无符合整数 例如无符号8为整型数据的定义为uint8

	- 浮点型

		1. single函数：将其他类型的数据转换为单精度型
		2. double函数：将其他类型的数据转化为双精度型

	- 复数型

		​	复型数据包括实部和虚部，实部和虚部都默认为双精度型，虚数单位用i或者j来表示

		1. real()函数：求复数的实部
		2. imag()函数：求复数的虚部

2. **数值数据的输出格式：**
	     format命令的格式：format 格式符    //注意：format命令只影响数据的输出格式，而不影响数据的计算和存储

	```matlab
	>>format long
	>>50/3
	ans = 
				16.666666666668
	>>format
	>>50/3
	ans = 
				16.6667
	```

3. **常用数学函数:**

	1. 函数调用格式：
		       函数名(函数自变量)

	2. 常用函数的应用：

		1. 三角函数：

			- 弧度单位：sin()
			- 角度单位：sind()

		2. abs函数：

			- abs()函数可以求实数的绝对值，复数的模，字符串的ASCII码值

		3. 用于取整的函数：

			- round() //按照四舍五入的规则来取整

				```matlab
				>> round(4.7)
				ans = 
							5
				```

			- ceil() //向上取整，取大于等于这个数的第一个整数

				```matlab
				>>ceil(-3.8)
				ans = 
						-3
				```

				

			- floor() //向下取整，取小于等于这个数的第一个整数

				```matlab
				>>floor(3.6)
				ans = 
							3
				```

				

			- fix() //舍去小数取整

				```matlab
				>>fix(-3.2)
				ans = 
						-3
				```

				

		4. **其他函数：**

			- rem(x,y) //x对y取余数

			- isprime(x) //判断x是否为素数，若是素数返回1，否则返回0

			- exp(x) // 返回e的x次方的值

			- find()函数 

				1. 返回向量中非零元素的位置 

					```matlab
					>>find(A)
					```

					

				2. 返回矩阵中非零元素的位置

					```matlab
					>>find(A)
					```

					

				3. 返回满足某条件的值

					```matlab
					>>A=[0 1 2 3 4 5 6 7 8];
					>>find(A>4)
						ans = 
								6 7 8 9
					```

					

				4. 返回前N个非零元素的位置

					```matlab
					>>find(A,N)
					```

					

				5. 返回最后一个非零值的位置

					```matlab
					>>find(A,1,'last')
					```

					

				6. 返回最后一个非零值的行列位置

					```matlab
					>>[a,b]=find(A,1,'last')
					```

					

				7. [a1,a2] = find(a)，找出a中非零元素所在的行和列，并分别存储在a1和a2中

				8. [a1,a2,v] = find(a)，找出a中非零元素所在的行和列，分别存储在a1和a2中，并将结果放在v中

## 1.3变量及其操作

1. **变量与赋值语句**

	- 变量
		- 变量名是由字母开头，后接字母或者下划线的不超过63个字符的字符序列
		- 变量名区分大小写
		- 标准函数名以及命令名一般用小写字母
	- 赋值语句：
		- 变量 = 表达式
		- 表达式

2. **预定义变量**

	- ans是默认赋值变量
	- i和j表示虚数单位
	- pi代表圆周率
	- NaN代表非数

3. **变量的管理**

	1. 内存变量的删除和修改

		- 删除：clear 变量名
		- 修改：变量名 = 表达式
		- who命令：输出全部变量名
		- whos命令：输出全部变量

	2. 内存变量文件

		- 用于保存matlab工作区变量的文件，其拓展名为.mat
		- 使用save命令创建内存变量文件   //将变量保存起来装入文件里
		- 使用load命令装入内存变量文件   //将文件中的变量装入工作区

		```matlab
		>> save mydata a x
		>> load mydata
		```

		

## 1.4MATLAB矩阵的表示

1. **矩阵的建立**

	- 直接输入法：将矩阵中的元素用中括号括起来，按行的顺序输入元素，同一行的元素用空格或逗号分隔，不同行用分号分隔

	```matlab
	>>A = [1,2,3;4,5,6;7,8,9]
	A = 
			1		2		3
			4		5		6
			7		8		9
	```

	

	- 利用已经建好的矩阵建立更大的矩阵

	```matlab
	>>A = [1,2;3,4];
	>>B = [-1,-2;-3,-4];
	>>C = [A,B;B,A]
	C = 
			1		2	 -1	 -2
			3		4	 -3	 -4
		 -1	 -2		1		2
		 -3	 -4		3		4
	```

	

	- 利用实部矩阵和虚部矩阵构建复数矩阵

	```matlab
	>>A = [1,2,3;4,5,6];
	>>B = [4,5,6;7,8,9];
	>>C = A + B*i
	C = 
			1.0000 + 4.0000i		2.0000 + 5.0000i		3.0000 + 6.0000i
			4.0000 + 7.0000i		5.0000 + 8.0000i		6.0000 + 9.0000i
	```

	

2. **冒号表达式**

	- 格式：*e1:e2:e3*   	//	e1表示起始值	e2表示步长	e3表示终止值	//	如果省略e2，则默认步长为1

	```matlab
	>>t = 0:1:5
	t = 
			0		1		2		3		4		5
	```

	

	- linspace(a,b,n)函数：从a到b创造n个步长相同的元素，如果省略n，则默认n为100

	```matlab
	>>x = linspace(0,pi,6)
	x = 
			0		0.6238		1.2566		1.8850		2.5133		3.1416
	```

	

3. **结构矩阵和单元矩阵**

	1. 结构矩阵

		- 结构矩阵中每个元素都是一种结构数据
		- 格式：结构矩阵元素.成员名 = 表达式

		```matlab
		>>a(1).x1 = 10; a(1).x2 = 'liu'; a(1).x2 = [11,21;56,78];
		```

		

	2. 单元矩阵

		- 单元矩阵的建立与一般矩阵类似，不过单元矩阵用大括号括起来

		```matlab
		>>b = {10,'liu',[11,21;56,78];12,'wang',[20,45;68,97]}
		b = 
				[10]	'liu'		[2X2 double]
				[12]	'wang'	[2X2 double]
		```



## 1.5矩阵元素的引用

1. **矩阵元素的引用方式**

	- 通过下标来引用
		- 例如A(3,2)表示为A矩阵第三行第二列的元素
		- 若行下标或列下标大于原矩阵，则matlab会自动扩大原矩阵并将没有赋值的元素置为0
	- 通过序号来引用
		- 矩阵元素**按列存储**，所以序号是**按列优先**。
		- 序号和下标是一一对应的，比如对一个5X5的矩阵A，A(16)就是第一行第四列的元素，即A(1,4)
	- 下标和序号可以通过**sub2ind函数**和**ind2sub函数**进行相互转换

	 <img src="C:\Users\29618\AppData\Roaming\Typora\typora-user-images\image-20210618153701646.png" alt="image-20210618153701646" style="zoom: 67%;" />

	```matlab
	>>A = [1:3;4:6];
	>>D = sub2ind(size(A),[1,2;2,2],[1,1;3,2])
	D = 
			1		2
			6		4
	```

	

	<img src="C:\Users\29618\AppData\Roaming\Typora\typora-user-images\image-20210618153942434.png" alt="image-20210618153942434" style="zoom:67%;" />	

	```matlab
	>>[I,J] = ind2sub([3,3],[1,3,5])
	I = 
			1		3		2
	J = 
			1		1		2
	```

	

2. **利用冒号表达式获得子矩阵**

	- A(i,:)									//第i行的全部元素
	- A(:,j)                                    //第j列的全部元素
	- A(i:i+m,k:k+m)                  //第i—i+m行中k—k+m列的全部元素
	- A(i:i+m,:)                            //第i—i+m行中的全部元素
	- end运算符：表示某一维的最后一个元素的下标

3. **利用空矩阵删除矩阵元素**

	- 举例：A([2,:]) = []	可以表示为删除A矩阵中第二行全部元素

4. **改变矩阵的形状**

	- *reshape(A,m,n)函数*
		- reshape(A,m,n)函数可以将矩阵A在矩阵元素不变的前提下，将A重新排列为一个mXn的二维矩阵
		- reshape函数只改变原矩阵的行数和列数，不改变元素顺序和存储顺序
	- *A(:)*
		- 将矩阵A的每一列元素堆叠起来，形成一个列向量



## 1.6 MATLAB基本运算

1. **算术运算**

	- 基本运算符：+(加)、-(减)、*(乘)、/(右除)、\ (左除)、^(乘方)

		- MATLAB的算术运算都是在矩阵意义下进行的
		- 我们对除法运算进行详细说明
			- 如果A为非奇异方阵(行列式的值不等于0)时，inv(A)函数可以求矩阵A的逆矩阵
				- B/A = B * inv(A)
				- B\A = inv(A) * B

	- 点运算符：.*         . /        . \       .^

		- 两矩阵进行点运算是指他们的对应元素进行相关运算，要求两矩阵同型
		- 例：当x = 0.1，0.4，0.7的时候，计算y = sin(x) 乘 cos(x)的值

		```matlab
		>> x = 0.1:0.3:0.7;
		>> y = sin(x) .* cos(x);
		```

		

2. **关系运算**

	- <(小于)	<=(小于等于)	>(大于)	>=(大于等于)	~=(不等于)	==(等于)
		- 当比较量都为标量的时候，直接比较大小，返回0或1
		- 当比较量为同型矩阵的时候，对两个矩阵中相同位置的元素按标量的规则进行比较，最后返回一个同型的布尔矩阵
		- 当标量与矩阵比较的时候，将标量与矩阵中每个元素按标量的规则进行比较，最后返回一个同型的布尔矩阵

3. **逻辑运算**

	- &(与)	|(或)	~(非)
		- 比较量均为标量时，直接按逻辑比较，返回0或1
		- 当比较量为同型矩阵的时候，对两个矩阵中相同位置的元素按标量的规则进行比较，最后返回一个同型的布尔矩阵
		- 当标量与矩阵比较的时候，将标量与矩阵中每个元素按标量的规则进行比较，最后返回一个同型的布尔矩阵



## 1.7字符串运算

1. **字符串的表示**

	- MATLAB中，字符串是单引号括起来的字符序列		// 字符串内的空格也算作字符

	```matlab
	>> x = 'Hello World!';
	>> x(1:end-1)
	ans = 
		Hello World
	```

	

	- 若字符串中的字符含有单引号，则该字符的单引号用双引号表示

	```matlab
	>> x = 'I''m a student'
	x = 
		I'm a student
	```

	

	- 可以建立字符串矩阵

	```matlab
	>> ch = ['abcdef';'123456']
	ch = 
		abcdef
		123456
	```

	​	

2. **字符串的操作**

	1. 字符串的执行

		- 格式：eval(ch)

		```matlab
		>> t = pi;
		>> m = 't,sin(t),cos(t)';
		>> y = eval(t)
		y = 
			3.1416	0.0000	-1.0000
		```

		

	2. 字符串与数值之间的转换

		- abs() 和double()函数都可以用来获取一个字符串矩阵对应ASCII码的数值矩阵
		- char()函数可以将一个ASCII码的数值矩阵转化为一个字符串矩阵

		

	3. 字符串的比较

		- 关系运算符比较：两个字符串对应位置的字符按ASCII码值的大小进行比较，比较结果为一个同型的布尔向量

		- 字符串比较函数：

			- strcmp(s1,s2)				//比较s1和s2是否相等，若相等返回1，不相等返回0
			- strcmp(s1,s2,n)			//比较s1和s2的前n位是否相等
			- strcmpi(s1,s2)			  //不考虑大小写的区别，比较s1和s2是否相等
			- strcmpi(s1,s2,n)		  //不考虑大小写的区别，比较s1和s2的前n位是否相等

			

	4. 字符串的查找和替换

		- findstr(s1,s2)						//返回短字符串在长字符串中的开始位置
		- strrep(s1,s2,s3)					//将字符串s1中所有的子串s2替换为字符串s3





